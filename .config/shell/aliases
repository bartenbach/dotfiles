# vim: set ft:sh
if [[ "$(uname)" == "Darwin" ]]; then
  # this is such trash.  why apple?  just why?
  alias ls='ls -GF'
elif [[ "$(uname)" == "Linux" ]]; then
  alias ls='ls --color=always -p --human-readable --group-directories-first'
fi

EMERGE_BASE_ARGS='sudo emerge --color y --ask --alert'

# misc
alias scim='sc-im'
alias tree='tree -C'
alias ddg='elinks https://lite.duckduckgo.com'
alias dmesg='dmesg --color=always'
alias emerge="${EMERGE_BASE_ARGS}"
alias nudworld="${EMERGE_BASE_ARGS} -NuD @world"
alias esync="${EMERGE_BASE_ARGS} --sync"
alias trim="sudo fstrim -Av"
alias mutt='neomutt'
alias pm='pulsemixer'
alias grep='grep --color=auto'
alias systemctl='systemctl --user'
alias t='clear;task project:'
alias tl='task list project:'
alias ta='task active project:'
alias tt='clear && task list limit:10 project:'
alias linux='cd /usr/src/linux'
alias vim='nvim'
alias wiki='vim -c VimwikiIndex'
alias xlog='less ~/.local/share/xorg/Xorg.0.log'
alias zathura='zathura --fork'
alias zd='zathura --fork'
alias zl='zathura -c ${XDG_CONFIG_HOME}/zathura/light --fork'

# $1 markdown file
function mkpdf() {
  pandoc -o out.pdf -f markdown -t pdf "$1"
}

# quick ignore files
# $1 file(s) to ignore
function ignore() {
  echo "$1" >> .gitignore
}

# grep history easier
# $1 search string
function hgrep() {
  query="$@"
  history 1 | grep "${query}"
}

# modify task priority
# $1 task id
# $2 priority
function p() {
  task mod $1 priority:$2
}

# start a task
# $1 task id
function start() {
  task $1 start
  clear
  task project:
}

# stop a task
# $1 task id
function stop() {
  task $1 stop
  clear
  task project:
}

# complete a task
# $1 task id
function complete() {
  task $1 done
  clear
  task project:
}

# quick edits
alias va="vim ${XDG_CONFIG_HOME}/shell/aliases"
alias vp="vim ${ZDOTDIR}/.zprofile"
alias vq="vim ${XDG_CONFIG_HOME}/qutebrowser/config.py"
alias vx="vim ${XDG_CONFIG_HOME}/xmonad/xmonad.hs"
alias vu="sudo vim /etc/portage/package.use/package.use"
alias vuu="sudo vim /etc/portage/make.conf"
alias vv="nvim ${XDG_CONFIG_HOME}/nvim/init.vim"
alias vz="vim ${ZDOTDIR}/.zshrc"

# "real" aliases
alias history='history 1' # just show me all of it
alias less='less -r' # enable color
alias scrot='maim -s -u | xclip -selection clipboard -t image/png -i'
alias vifm='vifm .' # start vifm in cwd

# more boomers who won't support the standard
alias tmux="tmux -f ${XDG_CONFIG_HOME}/tmux/tmux.conf"

# quick source
alias sz="source ${XDG_CONFIG_HOME}/zsh/.zshrc"
alias sp="source ${XDG_CONFIG_HOME}/zsh/.zprofile"
alias sa="source ${XDG_CONFIG_HOME}/shell/aliases"

# systemd configuration
alias journalctl='sudo journalctl -xb --no-hostname -e'
