# -*-muttrc-*-

# Main Configuration
set mbox_type         = Maildir
set mbox              = ~/.mutt/mail/
set tmpdir            = ~/.mutt/tmp
set alias_file        = ~/.mutt/aliases
set certificate_file  = ~/.mutt/certificates
set signature         = ~/.mutt/signature
set history_file      = ~/.mutt/.history
set mailcap_path      = ~/.mutt/mailcap
set message_cachedir  = ~/.cache/mutt/msg_cache
set header_cache      = ~/.cache/mutt/header_cache
set editor            = vim
set realname          = "Blake Bartenbach"
set ispell            = "aspell -e -c"
set pager_context     = 5
set mail_check        = 0
set pager_index_lines = 15
set sleep_time        = 0
set wrap              = 0
set postpone          = yes
set reverse_alias     = yes
set include           = yes
set abort_nosubject   = no
set recall            = no
set beep_new
set edit_headers
set check_mbox_size
set maildir_trash 
set mark_old
set forward_quote
set pager_stop
set menu_scroll
set thorough_search
set fast_reply
set forward_edit
set pipe_decode
set message_cache_clean
set narrow_tree
unset save_name
auto_view text/html

# Falconindy's abook macros
macro generic,index,pager \Ca "<shell-escape>abook<return>" "launch abook"
macro index,pager         A   "<pipe-message>abook --add-email<return>" "add sender to abook"
set query_command     = "abook --mutt-query '%s'"

# Account Settings
set imap_user         = blakebartenbach@gmail.com
# Need to set up global GPG key
#set imap_pass         = `gpg --decrypt ~/.gnupg/.passwords/.bartenbach-gmail.gpg`
set folder            = imaps://blakebartenbach@imap.gmail.com:993/
set spoolfile         = imaps://blakebartenbach@imap.gmail.com:993/
set smtp_url          = smtps://$imap_user:$imap_pass@smtp.gmail.com
set postponed         = "+Drafts"
set record            = "+Sent Mail"
set trash             = "+Trash"
set mail_check        = 300
unset imap_passive
set imap_check_subscribed
#unmailboxes           = '+[Gmail]/Sent Mail' +[Gmail]/Drafts
#mailboxes             = +Important +'All Mail' +Spam +Starred

# Sidebar
set sidebar_visible
set sidebar_width     = 26
set sidebar_delim     = "┃"

# Bindings
bind pager q          exit
bind pager /          search
bind pager <up>       previous-line
bind pager <down>     next-line
bind pager k          previous-line
bind pager j          next-line
bind index R          imap-fetch-mail
bind index S          save-message
bind index s          sidebar-next
bind index w          sidebar-prev
bind index <space>    sidebar-open
bind index d          sidebar-open
bind index D          delete-message

# Appearance
set sort_aux = reverse-last-date-received
set sort     = threads
set tilde
set text_flowed
set smart_wrap
unset sort_re
unset markers

# Formats
#set status_format  = //FIXME add me for customization
set date_format       = " !%a, %b %d, %Y at %I:%M:%S%p %Z "
set pager_format      = " -%Z- %C/%m: %-30.30n %s%* -- (%P) "
set index_format      = " [%Z] │ %{%9B %d} │ %-32.32L (%?l?%4l&%4c?) %s "
set compose_format    = " -- Mutt: Compose [Approx. msg size: %l Atts: %a]%>- "
set forward_format    = "Fwd: %s"
set attribution       = "On %d, %n wrote:"

# Falconindy's cleaner headers
ignore * 
unignore from: to: cc: date: subject:
hdr_order from: to: cc: date: subject: # this option is broken or sketchy

# Colors
source  ~/.mutt/themes/proxa.muttrc

# Source command files
source ~/.mutt/aliases
source ~/.mutt/alternates
source /etc/Muttrc.gpg.dist
