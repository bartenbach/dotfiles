#!/bin/bash --

_='
\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ 
\\                                                           \\ 
\\                                                           \\ 
\\ File: .prompt [ sourced via .bashrc ]                     \\ 
\\                                                __         \\ 
\\ Author: seed419                               /\ \__      \\  
\\         _____   _ __   ___     ___ ___   _____\ \  _\     \\  
\\        /\ \__ \/\  __\/ __ \ /  __  __ \/\  __ \ \ \/     \\ 
\\      __\ \ \L\ \ \ \//\ \L\ \/\ \/\ \/\ \ \ \L\ \ \ \_    \\
\\     /\_\\ \  __/\ \_\\ \____/\ \_\ \_\ \_\ \  __/\ \__\   \\
\\     \/_/ \ \ \/  \/_/ \/___/  \/_/\/_/\/_/\ \ \/  \/__/   \\ 
\\           \ \_\                            \ \_\          \\
\\            \/_/                             \/_/          \\
\\                                                           \\
\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ 
'

#Reset
Reset='\e[0m'

#Regular 
Black='\e[0;30m'    
Red='\e[0;31m'       
Green='\e[0;32m'      
Yellow='\e[0;33m'      
Blue='\e[0;34m'     
Purple='\e[0;35m'    
Cyan='\e[0;36m'       
White='\e[0;37m'       

# Bold
BBlack='\e[1;30m'    
BRed='\e[1;31m'       
BGreen='\e[1;32m'      
BYellow='\e[1;33m' 
BBlue='\e[1;34m'    
BPurple='\e[1;35m'   
BCyan='\e[1;36m'      
BWhite='\e[1;37m'      

# Underline
UBlack='\e[4;30m'    
URed='\e[4;31m'       
UGreen='\e[4;32m'      
UYellow='\e[4;33m'     
UBlue='\e[4;34m'      
UPurple='\e[4;35m'    
UCyan='\e[4;36m'       
UWhite='\e[4;37m'      

# Background
On_Black='\e[40m'      
On_Red='\e[41m'        
On_Green='\e[42m'      
On_Yellow='\e[43m'     
On_Blue='\e[44m'       
On_Purple='\e[45m'    
On_Cyan='\e[46m'      
On_White='\e[47m'      

# High Intensity
IBlack='\e[0;90m'   
IRed='\e[0;91m'      
IGreen='\e[0;92m'     
IYellow='\e[0;93m'     
IBlue='\e[0;94m'   
IPurple='\e[0;95m'  
ICyan='\e[0;96m'     
IWhite='\e[0;97m'     

# Bold High Intensity
BIBlack='\e[1;90m'    
BIRed='\e[1;91m'      
BIGreen='\e[1;92m'    
BIYellow='\e[1;93m'   
BIBlue='\e[1;94m'      
BIPurple='\e[1;95m'     
BICyan='\e[1;96m'       
BIWhite='\e[1;97m'      

# High Intensity backgrounds
On_IBlack='\e[0;100m'   
On_IRed='\e[0;101m'     
On_IGreen='\e[0;102m'  
On_IYellow='\e[0;103m'
On_IBlue='\e[0;104m'  
On_IPurple='\e[10;95m' 
On_ICyan='\e[0;106m'   
On_IWhite='\e[0;107m'   

#====================================
# Bash display name and display host  
#====================================
_name='proxa'
_host=''

#==========================================
# Git integration and formatting variables   
#==========================================
_git='$(__git_ps1 " (%s)")\$ '

#===============================
# Set root to have a red prompt 
#===============================
function get_color {
  if [ $EUID -eq 0 ];then
    _color=$Red
  else
    _color=$Green
  fi
}

#====================================================
# Check to see if we are using a custom display name
#====================================================
function get_username {
  if [ -z $_name ];then
    $_name="\u"
  fi
}

#================================================
# Check to see if we are using a custom hostname
#================================================
function get_hostname {
  if [ -z $_host ];then
    _host="\h"
  fi  
}

#===========
# Assemble!
#===========
get_color
get_username
get_hostname
if [ $EUID -eq 0 ];then
  PS1="\[$_color\][root] \w \\\$ \[$Reset\]"
else
  PS1="\[$_color\][$_name.$_host] \w \\\$ \[$Reset\]"
fi

#=========================
# Some useless statistics
#=========================
#echo "$BASH v$BASH_VERSION"
#echo "Shells started - $BASH_SUBSHELL"

#===========
# Debugging
#===========
PS1_DEBUG=0
if [ $PS1_DEBUG == 1 ];then
  echo $PS1
fi

#=====================
# Unset our variables
#=====================
unset get_color
unset get_username
unset get_hostname
unset _color
unset _name
unset _host
unset _git
unset PS1_DEBUG
